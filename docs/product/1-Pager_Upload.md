# 🏛️ [기획가재] 1-Pager: (2) 업로드 (Upload)

**헌법 제 1조 제 1항 및 제 6조 제 2항에 의거하여 작성함.**

---

## 1. 배경 (Background)
- **Problem:** 사용자는 어떤 사진을 올려야 할지 몰라 망설이며, 잘못된 사진 업로드는 AI 분석 퀄리티 저하로 이어짐.
- **Goal:** 사용자에게 명확한 가이드를 제공하고, 업로드 과정을 하나의 '설레는 이벤트'로 승화시킴.

## 2. 가치 (Value)
- **사용자 가치:** "내 아이의 소중한 초음파 사진이 전문가에게 안전하게 전달된다는 신뢰감."
- **비즈니스 가치:** 양질의 학습 데이터/분석 소스 확보 및 다음 단계인 '결제'로의 자연스러운 전환.

## 3. 상세 요구사항 (Requirements & Wireframe)
### 3.1. 와이어프레임 (Wireframe Text)
- **[Header]** "우리 아이의 첫 사진을 보여주세요" (좌측 상단 뒤로가기 버튼 포함).
- **[Visual Guide]** 상단에 'O'와 'X' 예시 사진 배치. (선명한 사진 vs 흐릿하거나 문구가 겹친 사진).
- **[Upload Box]** 중앙의 거대한 점선 박스 영역. 
  - 내부에 `Plus` 아이콘과 "갤러리에서 사진 선택" 문구.
  - 사진 선택 시, 박스 내부에 썸네일이 차오르며 "분석 가능한 사진인지 확인 중..." 상태 표시.
- **[CTA Button]** 하단 고정 버튼 "이 사진으로 분석하기". 사진이 선택되지 않으면 비활성화(Gray), 선택되면 브랜드 컬러(Pink)로 활성화.

### 3.2. 기능 요구사항
- **Image Picker:** 시스템 갤러리 및 카메라 연동.
- **Pre-processing:** 클라이언트 단에서 10MB 이상 이미지는 2MB 이하로 리사이징 (Canvas API 활용).
- **Validation:** 이미지 파일 확장자(jpg, png, heic) 체크 및 비이미지 파일 차단.

## 4. 기술 제약 (Technical Constraints) - [개발가재] 시뮬레이션
- **S3 Connectivity:** 브라우저에서 S3로 직접 업로드 시 `CORS` 설정 및 `Presigned URL` 보안 유효 기간 최적화 필요.
- **Memory Management:** 고해상도 이미지 처리 시 모바일 브라우저 메모리 부족으로 인한 크래시 방지 로직(Worker 분리) 검토.

## 5. 로그 모델 (Log Model) - [분석가재] 시뮬레이션
- `click_upload_box`: 갤러리 호출 횟수.
- `image_pick_complete`: 사진 선택 완료 시 파일 메타데이터(용량, 타입) 기록.
- `upload_latency`: 실제 서버 전송 완료까지 걸린 시간.
- `upload_retry`: 에러 발생 시 재시도 버튼 클릭 여부.

## 6. 법률 (Legal) - [법률가재] 시뮬레이션
- **Metadata Privacy:** 업로드 시 GPS 등 민감한 Exif 데이터는 서버 저장 전 반드시 삭제 처리.
- **Copyright:** "사용자가 업로드한 사진의 저작권은 사용자에게 있으며, 분석 서비스 제공 목적으로만 일시 사용됨"을 명시.

## 7. 테스트 (Test) - [테스트가재] 시뮬레이션
- **Scenario:** 20MB 이상의 초고용량 이미지 업로드 시 앱 중단 여부 확인.
- **Network Case:** 업로드 중 비행기 모드 전환 시 적절한 '재시도' 팝업 노출 여부.

## 8. 디자인 방향성 (Design Direction) - [디자인가재] 시뮬레이션
- **Interaction:** 사진을 박스에 넣을 때 '퐁당' 하는 느낌의 물방울 애니메이션 효과.
- **State UI:** 업로드 중(Progress Bar) -> 성공(Green Check) -> 실패(Red Alert) 상태별 컬러 대비 명확화.
