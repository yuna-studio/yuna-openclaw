(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,76144,e=>{"use strict";let t=(0,e.i(75254).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["default",()=>t])},83086,e=>{"use strict";var t=e.i(76144);e.s(["Sparkles",()=>t.default])},50992,e=>{"use strict";let t;var i=e.i(43476),l=e.i(71645),a=e.i(46932);e.i(47167);var s=e.i(31178),n=e.i(47414),r=e.i(74008),o=e.i(21476),c=e.i(72846),d=l,h=e.i(37806);function u(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class p extends d.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,i=(0,c.isHTMLElement)(e)&&e.offsetWidth||0,l=(0,c.isHTMLElement)(e)&&e.offsetHeight||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=i-a.width-a.left,a.bottom=l-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function f({children:e,isPresent:t,anchorX:a,anchorY:s,root:n,pop:r}){let o=(0,d.useId)(),c=(0,d.useRef)(null),f=(0,d.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=(0,d.useContext)(h.MotionConfigContext),x=function(...e){return l.useCallback(function(...e){return t=>{let i=!1,l=e.map(e=>{let l=u(e,t);return i||"function"!=typeof l||(i=!0),l});if(i)return()=>{for(let t=0;t<l.length;t++){let i=l[t];"function"==typeof i?i():u(e[t],null)}}}}(...e),e)}(c,e.props?.ref??e?.ref);return(0,d.useInsertionEffect)(()=>{let{width:e,height:i,top:l,left:d,right:h,bottom:u}=f.current;if(t||!1===r||!c.current||!e||!i)return;let p="left"===a?`left: ${d}`:`right: ${h}`,x="bottom"===s?`bottom: ${u}`:`top: ${l}`;c.current.dataset.motionPopId=o;let g=document.createElement("style");m&&(g.nonce=m);let b=n??document.head;return b.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${i}px !important;
            ${p}px !important;
            ${x}px !important;
          }
        `),()=>{b.contains(g)&&b.removeChild(g)}},[t]),(0,i.jsx)(p,{isPresent:t,childRef:c,sizeRef:f,pop:r,children:!1===r?e:d.cloneElement(e,{ref:x})})}let m=({children:e,initial:t,isPresent:a,onExitComplete:s,custom:r,presenceAffectsLayout:c,mode:d,anchorX:h,anchorY:u,root:p})=>{let m=(0,n.useConstant)(x),g=(0,l.useId)(),b=!0,y=(0,l.useMemo)(()=>(b=!1,{id:g,initial:t,isPresent:a,custom:r,onExitComplete:e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;s&&s()},register:e=>(m.set(e,!1),()=>m.delete(e))}),[a,m,s]);return c&&b&&(y={...y}),(0,l.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[a]),l.useEffect(()=>{a||m.size||!s||s()},[a]),e=(0,i.jsx)(f,{pop:"popLayout"===d,isPresent:a,anchorX:h,anchorY:u,root:p,children:e}),(0,i.jsx)(o.PresenceContext.Provider,{value:y,children:e})};function x(){return new Map}var g=e.i(64978);let b=e=>e.key||"";function y(e){let t=[];return l.Children.forEach(e,e=>{(0,l.isValidElement)(e)&&t.push(e)}),t}let j=({children:e,custom:t,initial:a=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:h=!1,anchorX:u="left",anchorY:p="top",root:f})=>{let[x,j]=(0,g.usePresence)(h),v=(0,l.useMemo)(()=>y(e),[e]),k=h&&!x?[]:v.map(b),w=(0,l.useRef)(!0),N=(0,l.useRef)(v),C=(0,n.useConstant)(()=>new Map),S=(0,l.useRef)(new Set),[$,M]=(0,l.useState)(v),[E,R]=(0,l.useState)(v);(0,r.useIsomorphicLayoutEffect)(()=>{w.current=!1,N.current=v;for(let e=0;e<E.length;e++){let t=b(E[e]);k.includes(t)?(C.delete(t),S.current.delete(t)):!0!==C.get(t)&&C.set(t,!1)}},[E,k.length,k.join("-")]);let z=[];if(v!==$){let e=[...v];for(let t=0;t<E.length;t++){let i=E[t],l=b(i);k.includes(l)||(e.splice(t,0,i),z.push(i))}return"wait"===d&&z.length&&(e=z),R(y(e)),M(v),null}let{forceRender:P}=(0,l.useContext)(s.LayoutGroupContext);return(0,i.jsx)(i.Fragment,{children:E.map(e=>{let l=b(e),s=(!h||!!x)&&(v===E||k.includes(l));return(0,i.jsx)(m,{isPresent:s,initial:(!w.current||!!a)&&void 0,custom:t,presenceAffectsLayout:c,mode:d,root:f,onExitComplete:s?void 0:()=>{if(S.current.has(l)||(S.current.add(l),!C.has(l)))return;C.set(l,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(P?.(),R(N.current),h&&j?.(),o&&o())},anchorX:u,anchorY:p,children:e},l)})})},v=e=>{let t,i=new Set,l=(e,l)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=l?l:"object"!=typeof a||null===a)?a:Object.assign({},t,a),i.forEach(i=>i(t,e))}},a=()=>t,s={setState:l,getState:a,getInitialState:()=>n,subscribe:e=>(i.add(e),()=>i.delete(e))},n=t=e(l,a,s);return s},k=e=>{let t=e?v(e):v,i=e=>(function(e,t=e=>e){let i=l.default.useSyncExternalStore(e.subscribe,l.default.useCallback(()=>t(e.getState()),[e,t]),l.default.useCallback(()=>t(e.getInitialState()),[e,t]));return l.default.useDebugValue(i),i})(t,e);return Object.assign(i,t),i},w=(t=e=>({dates:[],selectedDate:null,timeline:[],isLoading:!1,setDates:t=>e({dates:t}),setSelectedDate:t=>e({selectedDate:t}),setTimeline:t=>e({timeline:t}),setIsLoading:t=>e({isLoading:t})}))?k(t):k;var N=e.i(75254);let C=(0,N.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),S=(0,N.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),$=(0,N.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var M=e.i(83086);let E=(0,N.default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var R=e.i(18566),z=e.i(22016);let P=({initialDates:e})=>{let t=(0,R.useSearchParams)().get("filter"),{selectedDate:s,setSelectedDate:n,timeline:r,setTimeline:o,isLoading:c,setIsLoading:d}=w(),h="command"===t?r.filter(e=>e.path.includes("/command/")):r,u=async e=>{d(!0);try{let t=await fetch(`/api/chronicle/${e}`),i=await t.json();o(i)}catch(e){console.error("Fetch error:",e)}finally{d(!1)}};(0,l.useEffect)(()=>{e.length>0&&!s&&p(e[0])},[e]);let p=e=>{n(e),u(e)};return(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-12 text-ghibli-text",children:[(0,i.jsx)("div",{className:"lg:col-span-1",children:(0,i.jsxs)("div",{className:"sticky top-32",children:[(0,i.jsxs)("h2",{className:"text-xl font-black mb-8 flex items-center gap-3 text-ghibli-accent uppercase tracking-wider",children:[(0,i.jsx)(E,{size:24}),"Chronicle Index"]}),(0,i.jsx)("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-4 scrollbar-thin",children:e.map(e=>(0,i.jsxs)("button",{onClick:()=>p(e),className:`w-full text-left px-5 py-4 rounded-2xl transition-all flex items-center justify-between group ghibli-card ${s===e?"bg-ghibli-accent/10 border-ghibli-accent shadow-md translate-x-1":"bg-white/50 border-slate-200 text-slate-500 hover:text-ghibli-text hover:bg-white"}`,children:[(0,i.jsx)("span",{className:"font-mono font-black",children:e}),(0,i.jsx)(C,{size:18,className:`transition-transform duration-500 ${s===e?"translate-x-1 text-ghibli-accent":"opacity-30 group-hover:opacity-100"}`})]},e))})]})}),(0,i.jsxs)("div",{className:"lg:col-span-3",children:[(0,i.jsxs)("header",{className:"mb-12 flex items-end justify-between border-b-4 border-ghibli-accent/10 pb-10",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-5xl font-black tracking-tight text-ghibli-text mb-4",children:"command"===t?"The Will: CEO 명령":(e=>{if(!e)return"날짜를 선택하세요";if(e.includes("-")){let t=e.split("-");if(3===t.length)return`${t[0]}년 ${t[1]}월 ${t[2]}일`}return 8===e.length?`${e.slice(0,4)}년 ${e.slice(4,6)}월 ${e.slice(6,8)}일`:e})(s||"")}),(0,i.jsx)("p",{className:"text-lg text-slate-500 font-medium italic leading-relaxed max-w-xl",children:"command"===t?"시스템의 방향을 결정하는 대표님의 지엄한 지시 기록입니다.":"가재 컴퍼니의 구성원들이 어떻게 격돌하고 합의하며 일하는지, 그 과정을 1px의 오차 없이 기록한 연대기입니다."})]}),c&&(0,i.jsxs)("div",{className:"flex items-center gap-2 text-ghibli-accent text-xs font-black font-mono tracking-widest animate-pulse mb-2",children:[(0,i.jsx)(M.Sparkles,{size:16}),"SYNCING SANCTUARY..."]})]}),(0,i.jsx)("div",{className:"relative border-l-4 border-ghibli-accent/10 ml-6 pl-12 space-y-12 py-4",children:(0,i.jsx)(j,{mode:"popLayout",children:h.length>0?h.map((e,t)=>(0,i.jsxs)(a.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,scale:.9},transition:{duration:.5,delay:.05*t,ease:"easeOut"},className:"relative group",children:[(0,i.jsx)("div",{className:"absolute -left-[64px] top-4 w-8 h-8 rounded-full bg-ghibli-bg border-4 border-ghibli-accent/20 flex items-center justify-center group-hover:border-ghibli-accent transition-colors duration-700 shadow-sm",children:(0,i.jsx)("div",{className:`w-2 h-2 rounded-full ${e.path.includes("/command/")?"bg-ghibli-orange":"bg-ghibli-green"} shadow-inner`})}),(0,i.jsxs)("div",{className:"ghibli-card p-10 hover:shadow-2xl transition-all duration-700 group-hover:-translate-y-1 bg-white/80 backdrop-blur-sm border-2",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4 text-ghibli-accent text-sm font-mono font-black",children:[(0,i.jsx)(S,{size:18}),e.time]}),(0,i.jsx)("div",{className:`text-[10px] font-black font-mono uppercase tracking-[0.2em] px-3 py-1.5 rounded-full border-2 ${e.path.includes("/command/")?"bg-ghibli-orange/10 border-ghibli-orange/20 text-ghibli-orange":"bg-ghibli-green/10 border-ghibli-green/20 text-ghibli-green"}`,children:e.path.includes("/command/")?"Will":"Pulse"})]}),(0,i.jsx)("h3",{className:"text-2xl font-black text-ghibli-text mb-8 group-hover:text-ghibli-accent transition-colors tracking-tight leading-tight uppercase",children:e.title}),(0,i.jsx)("div",{className:"flex gap-4",children:(0,i.jsxs)(z.default,{href:`https://github.com/yuna-studio/yuna-openclaw/blob/main/${e.path}`,target:"_blank",className:"flex items-center gap-2 text-xs font-black text-slate-400 hover:text-ghibli-accent transition-all duration-300 bg-slate-50 px-5 py-3 rounded-2xl border-2 border-slate-100 hover:border-ghibli-accent/30 hover:bg-white shadow-sm",children:[(0,i.jsx)($,{size:16}),"SOURCE MARKDOWN"]})})]})]},e.id)):!c&&(0,i.jsxs)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"text-slate-400 font-medium py-40 text-center italic text-xl handwritten",children:["No chronicles found for this date. ",(0,i.jsx)("br",{}),(0,i.jsx)("span",{className:"text-base not-italic mt-4 block text-slate-300",children:"성역의 데이터가 아직 동기화되지 않았습니다."})]})})})]})]})};e.s(["TimelineView",0,({initialDates:e})=>(0,i.jsx)(l.Suspense,{fallback:(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[(0,i.jsx)(M.Sparkles,{className:"text-ghibli-accent animate-spin",size:48}),(0,i.jsx)("span",{className:"text-ghibli-accent font-black font-mono tracking-widest text-sm uppercase",children:"Opening Sanctuary..."})]}),children:(0,i.jsx)(P,{initialDates:e})})],50992)}]);